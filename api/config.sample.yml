# FIWARE SMART CITIES DASHBOARD CONFIGURATION FILE

# BASE URL
baseURL: http://mother.geographica.gs:8082

# Logging configuration parameters
logging:
  # Level options: INFO|ERROR|DEBUG. Default: INFO
  level: INFO
  # Output options: console|file. Default: console
  output: console

# PostgreSQL configuration parameters
pgsql:
  host: XXX
  user: XXX
  password: XXX
  database: XXX
  port: 5432

# CartoDB configuration parameters
cartodb:
  apiKey: XXX
  user: XXX
  active: true
  # Optional. Default to false. If you've an enterprise account at CartoDB you must set this param to True
  enterprise: false

# Orion Context Broker API URLs
contextBrokerUrls:
  portAuthtk: XXXXX
  portCtxApi: XXXXX
  urlCtxBrBase: https://xxx.xxx.xxx.xxx

# Fiware subservices catalog.
subservices:
  - # Internal id of subservice. It must be a string without spaces or special characters. Only [a-z][A-Z]
    id: id_subservice
    # Fiware service name
    service: XXX
    # Fiware subservice name
    subservice: XXX
    # Credentiales
    auth:
      user: XXX
      password: XXX

# List of subscriptions
subscriptions:
  - # Mandatory: Internal ID for the subscription
    id: subscription_id
    # Mandatory: ID of subservice at subservices catalog.
    subservice_id: id_subservice
    # Mandatory: Fiware entities to be subscribed.
    entityTypes:
      - geoEntTest

    # Optional: Table name for PGSQL and CartoDB. If not provided default to ID.
    tablename: subscription_id
    # Optional: Subscription model. Posible values are append|update. Default to append
    mode: append
    # List of attributes. It defined the attributes of the subcription and how they're mapped into the PostgreSQL database and CartoDB
    attributes:
      - # Attribute name (Fiware attribute name)
        name: name
        # Database attribute name (If it does not exist "name" is used)
        namedb: name
        # Type of attribute: Currently supported: 'coords','string','float','integer','ISO8601|timestamp'. Todo: geojson.
        type: string
        # Optional. Default to false. If set to true, the attribute will be synced at CartoDB
        cartodb: true
        # Optional. Default to false. If true a index will be created at PostgreSQL.
        index: true

      - name: position
        type: coords
        cartodb: true
      - name: timeinstant
        type: ISO8601
      - name: valor_01
        type: string
